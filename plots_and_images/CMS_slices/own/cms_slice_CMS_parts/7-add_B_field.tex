\begin{tikzpicture}
\input{\PhDthesisdir/plots_and_images/Event_displays/macro_defs.tex}

\begin{scope}
\clipSlice

\foreach \rin/\rout/\color in {
\muonrind/\muonroutd/\muonchcolor,
\ironryrind/\ironryroutd/\ironrycolor,
\muonrinc/\muonroutc/\muonchcolor,
\ironryrinc/\ironryroutc/\ironrycolor,
\muonrinb/\muonroutb/\muonchcolor,
\ironryrinb/\ironryroutb/\ironrycolor,
\muonrina/\muonrouta/\muonchcolor
%\ironryrina/\ironryrouta/\ironrycolor
}{
\begin{scope}
\clipMuCh{\rin}{\rout}
\fill (0,0) [color = \color] circle (\rout);
\fill [color = \color] (15:\rout)--(45:\rout)--(75:\rout)--(105:\rout)--(135:\rout)--(165:\rout)--(195:\rout)--(225:\rout)--(255:\rout)--(285:\rout)--(315:\rout)--(345:\rout)--cycle;
\end{scope}
}
\foreach \rin/\rout/\color in {
\Solenrin/\Solenrout/\Solencolor,
\HCALrin/\HCALrout/\HCALcolor,
\ECALrin/\ECALrout/\ECALcolor,
\trackerrin/\trackerrout/\trackercolor
}{
\begin{scope}
\clipCircle{\rin}{\rout}
\fill (0,0) [color = \color] circle (\rout);
\end{scope}
%\fill (0,0) [color = white] circle (\rin);
}

\end{scope}

% CMS parts
\draw (0,-.8*\trackerrout) node {\tiny Trajectographe};
\draw (-55:{0.5*(\ECALrin+\ECALrout)}) node {\tiny ECAL};
\draw (-45:{0.5*(\HCALrin+\HCALrout)}) node {\tiny HCAL};
\draw (-37:{0.5*(\Solenrin+\Solenrout)}) node {\tiny Solénoïde};
\draw (\muonroutb,-\muonroutd/4) node [below] {\tiny Chambres à muons et culasse de fer};

% CMS scale
\draw [thick] (0,\muonroutd/4+.5) --+ (\muonroutd,0);
\foreach \m in {0,1,...,7}{
\draw [thick] (\m,\muonroutd/4+.5) --+ (0,-.125);
\draw [thick] (\m,\muonroutd/4+.5) + (0,-.2) node {\tiny \SI{\m}{\meter}};
}

% Magnetic field
\draw (-10:{0.5*(\HCALrin+\HCALrout)}) node [below right] {\tiny\SI{4}{\tesla}} node {$\bm{\otimes}$};
\draw (0:\ironryrinc) node [below right] {\tiny\SI{2}{\tesla}} node {$\bm{\odot}$};

% Ensure good size
\draw (\muonroutb,-\muonroutd/4) node [below] {\tiny \vphantom{Chambres à muons et culasse de fer}};
\draw (-1.25,\muonroutd/4) node (leg) [right] {\tiny \hphantom{Légende:}};
\draw (leg.west) coordinate (tmp1);
\end{tikzpicture}


